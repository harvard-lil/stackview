<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>Stack View Examples</title>

<link rel="icon" href="favicon.ico" type="image/x-icon" />

<!-- CSS just for this page -->
<style type="text/css">
h1, h2 {
	margin: 5px 5px 10px 5px;
	padding: 0;
	color:#444;
	font-weight:normal;
}

body {
	font-family:'Helvetica', 'Arial', sans-serif;
	background:#faf5f0;
	min-width:845px;
	max-width:1145px;
	font-size: 1.1em;
  color: #333333;
  border: none;
  line-height:normal;
  margin:0px auto;
}

p {
	margin: 25px 5px 5px 5px;
	font-size: .8em;
}

.container {
	float:left;
	width:45%;
	margin:15px 15px 15px 5px;
	clear:both;
}

.explanation {
	float:left;
	width:48%;
	margin:15px 15px 15px 25px;
}

h1 {
	font-size:2.1em;
	padding-top:9px;
}

h2 {
	font-size:1.2em;	
	color:#F60;
}

a {
    color: #09F;
    text-decoration: none;
}

pre {
	background-color: #fff;
}

#nav {
	padding:0 150px 0 0;
	margin:0;
	list-style-type:none;
	float:right;
}

#nav li {
	display:block;
	float:left;
	padding:0 27px 0 0;
}

#nav li a {
  display:block;
  padding:25px 0 0 0;
}

.footer {
  clear:both;
  font-size:.7em;
  float:right;
  padding:25px 30px 25px 0;
}
</style>

<!-- stackview.css to style the stack -->
<link rel="stylesheet" href="lib/jquery.stackview.css" type="text/css" />

<!-- stackview.js and all js dependencies -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript" src="lib/jquery.stackview.min.js"></script>

</head>

<body>
	<ul id="nav">
		<li><a href="index.html">About</a></li>
		<li><a href="documentation.html">Documentation</a></li>
		<li><a href="examples.html">Examples</a></li>
		<a href="http://www.librarylab.law.harvard.edu/"><img src="liblabstamp.png"></a>
	</ul>
	<a href="https://github.com/harvard-lil/stackview"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/assets.github.com/img/30f550e0d38ceb6ef5b81500c64d970b7fb0f028/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub"></a>
	<h1>Stack View Examples</h1>

	<div class="container">
		
		<div id="amazon-stack"></div>
		
	</div>
	
	<script type="text/javascript">
    $(function () { 
		$('#amazon-stack').stackView({url: 'php/amazon.php', query: 'memory', ribbon: 'Amazon search for "memory"'});
    });
    </script>
	
	<div class="explanation">
		<h2>Amazon stack</h2>
		<p>A stack made up of book search results from the <a href="https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html">Amazon API</a>. The amazon.php file performs the search, formats and feeds the results to Stack View.</p>
		<p>Each book's Amazon Sales Rank is roughly sorted into one of ten groups that make up the heatmapping.</p>
		<p>Include an empty div in the page.</p>
		<pre class="code language-html">
		&lt;div id="amazon-stack"&gt;&lt;/div&gt;
		</pre>
		<p>Then call the Stack View plugin using a jQuery selector.</p>
		<pre class="code language-javascript">
		$('#amazon-stack').stackView({
			url: 'php/amazon.php', 
			query: 'memory', 
			ribbon: 'Amazon search for "memory"'
		});
		</pre>
		<p>To use Stack View with the Amazon API, save a copy of the file <b>keys.php.example</b> as <b>keys.php</b> and fill in the required API keys.</p>
		<p>Note that Amazon's API now limits to 100 results.</p>
	</div>
	
	<div class="container">
		
		<div id="worldcat-stack"></div>
		
	</div>
	
	<script type="text/javascript">
    $(function () { 
		$('#worldcat-stack').stackView({url: 'php/worldcat.php', jsonp: true, query: 'modern pirates', ribbon: 'WorldCat search for "modern pirates"'});
    });
    </script>
    
    <div class="explanation">
    	<h2>WorldCat stack</h2>
    	<p>A keyword search using the <a href="http://oclc.org/developer/services/WCAPI">WorldCat API</a>. The worldcat.php file performs the search, formats and feeds the results to Stack View.</p>
    	<p>The number of libraries that hold each book is roughly sorted into one of ten groups that make up the heatmapping. This operation is <b>very</b> slow.</p>
    	<p>Include an empty div in the page.</p>
		<pre class="code language-html">
		&lt;div id="worldcat-stack"&gt;&lt;/div&gt;
		</pre>
		<p>Then call the Stack View plugin using a jQuery selector.</p>
		<pre class="code language-javascript">
		$('#worldcat-stack').stackView({
			url: 'php/worldcat.php', 
			jsonp: true,
			query: 'modern pirates', 
			ribbon: 'WorldCat search for "modern pirates"'
		});
		</pre>
		<p>This example utilizes JSONP. See the associated <b>worldcat.php</b> script for code that will return a JSONP response.</p> 
		<p>To use Stack View with the WorldCat API, save a copy of the file <b>keys.php.example</b> as <b>keys.php</b> and fill in the required API key.</p>
    </div>
    
    	<div class="container">
		
		<div id="google-stack"></div>
		
	</div>
	
	<script type="text/javascript">
    $(function () { 
		$('#google-stack').stackView({url: 'php/google.php', query: 'time travel', ribbon: 'Google Books search for "time travel"'});
    });
    </script>
    
    <div class="explanation">
    	<h2>Google stack</h2>
    	<p>A keyword search using the <a href="https://code.google.com/apis/books/docs/v1/using.html">Google API</a>. The google.php file performs the search, formats and feeds the results to Stack View.</p>
    	<p>The user ratings are roughly sorted into one of ten groups that make up the heatmapping. Since Google rarely provides the height of the book, these are mostly randomized.</p>
    	<p>Include an empty div in the page.</p>
		<pre class="code language-html">
		&lt;div id="google-stack"&gt;&lt;/div&gt;
		</pre>
		<p>Then call the Stack View plugin using a jQuery selector.</p>
		<pre class="code language-javascript">
		$('#google-stack').stackView({
			url: 'php/google.php',
			query: 'time travel', 
			ribbon: 'Google search for "time travel"'
		});
		</pre>
		<p>Note that, according to Google Books API documentation, the <b>totalItems</b> count is an estimate. This causes the Stack View items count to change as the user scrolls.</p>
		<p>To use Stack View with the Google API, save a copy of the file <b>keys.php.example</b> as <b>keys.php</b> and fill in the required API key.</p>
  </div>
  
  <div class="container">
		
		<div id="dpla-stack"></div>
		
	</div>
	
	<script type="text/javascript">
    $(function () { 
		$('#dpla-stack').stackView({url: 'php/dpla.php', query: 'history', ribbon: 'DPLA search for "history"'});
    });
    </script>
    
    <div class="explanation">
    	<h2>DPLA stack</h2>
    	<p>A keyword search using the <a href="http://dp.la/dev/wiki/Documentation">DPLA API</a>. The dpla.php file performs the search, formats and feeds the results to Stack View.</p>
    	<p>Checkouts are roughly sorted into one of ten groups that make up the heatmapping.</p>
    	<p>Include an empty div in the page.</p>
		<pre class="code language-html">
		&lt;div id="dpla-stack"&gt;&lt;/div&gt;
		</pre>
		<p>Then call the Stack View plugin using a jQuery selector.</p>
		<pre class="code language-javascript">
		$('#dpla-stack').stackView({
			url: 'php/dpla.php',
			query: 'history', 
			ribbon: 'DPLA search for "history"'
		});
		</pre>
		<p>Note that much of the data from DPLA is currently dummy data.</p>
  </div>

	<div class="container">

		<div id="static-stack"></div>
		
	</div>
	
	<script type="text/javascript">
    $(function () { 
		$('#static-stack').stackView({url: 'json/static.json', ribbon: 'Static stack'});
    });
    </script>
    
  <div class="explanation">
		<h2>Static stack</h2>
    	<p>A manually created static stack. The static.json file feeds a JSON object to Stack View. The heatmapping is manually entered here (a digit from 1 to 100).</p>
      <p>Note that you can also start with the most <a href="basic.html">basic demo</a>.</p>
    	<p>Include an empty div in the page.</p>
		<pre class="code language-html">
		&lt;div id="static-stack"&gt;&lt;/div&gt;
		</pre>
		<p>Then call the Stack View plugin using a jQuery selector.</p>
		<pre class="code language-javascript">
		$('#static-stack').stackView({
			url: 'json/static.json', 
			ribbon: 'Static stack'
		});
		</pre>
		<p>Example JSON</p>
		<pre class="code language-javascript">
{
    "start": "-1",
    "limit": "0",
    "num_found": "2",
    "docs": [
        {
            "title": "Blankets",
            "creator": [
                "Craig Thompson"
            ],
            "measurement_page_numeric": 582,
            "measurement_height_numeric": 25,
            "shelfrank": 13,
            "pub_date": "2003",
            "link": "http://holliscatalog.harvard.edu/?itemid=|library/m/aleph|009189638"
        },
        {
            "title": "Persepolis",
            "creator": [
                "Marjane Satrapi"
            ],
            "measurement_page_numeric": 153,
            "measurement_height_numeric": 24,
            "shelfrank": 64,
            "pub_date": "2003",
            "link": "http://holliscatalog.harvard.edu/?itemid=|library/m/aleph|009098946"
        }
    ]
}
        </pre>
    </div>
    <div class="footer">
	    <a href="http://www.librarylab.law.harvard.edu/">The Harvard Library Innovation Lab</a>
	  </div>


<!-- js just for this page -->
<script type="text/javascript" src="http://balupton.github.com/jquery-syntaxhighlighter/scripts/jquery.syntaxhighlighter.min.js"></script>
<script type="text/javascript">$.SyntaxHighlighter.init();</script>
</body>
</html>